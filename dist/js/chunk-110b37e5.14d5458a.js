(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-110b37e5"],{"013a":function(t,e,a){"use strict";a("12e5")},"0410":function(t,e,a){},"05f4":function(t,e,a){"use strict";a("e0ff")},"12e5":function(t,e,a){},"1c84":function(t,e,a){},"45fb":function(t,e,a){"use strict";a("65fc")},"4a60":function(t,e,a){},"5c37":function(t,e,a){"use strict";a("0410")},"65fc":function(t,e,a){},"69e8":function(t,e,a){"use strict";a("c9d1")},"6ab7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"detail"}},[a("BackTop",{directives:[{name:"show",rawName:"v-show",value:t.showBack,expression:"showBack"}],nativeOn:{click:function(e){return t.back(e)}}}),a("DetailNavBar",{ref:"detailNavBar",attrs:{navBarCurrentIndex:t.navBarCurrentIndex},on:{"nav-bar-click":t.navClick}}),a("Scroll",{ref:"scrollCPN",staticClass:"scroll",attrs:{config:t.scrollConfig},on:{scroll:t.checkScroll}},[a("DetailCarousel",{ref:"topCarousel",attrs:{topImageArr:t.topImageArr}}),a("DetailBaseInfo",{attrs:{baseInfo:t.baseInfo}}),a("DetailShopInfoPage",{attrs:{shopData:t.shopInfo}}),a("DetailInfo",{ref:"params",attrs:{detailInfoData:t.detailInfoData}}),a("DetailParam",{attrs:{itemParams:t.itemParams}}),a("DetailRate",{ref:"rate",attrs:{detailRate:t.detailRate}}),a("GoodsList",{ref:"recommend",attrs:{goodsList:t.recommendArr}}),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")],1),a("transition",{attrs:{name:"fade"}},[t.isShowAddToCart?a("DetailClickBuy",{attrs:{goods:t.goods},on:{"hide-click-buy":function(e){t.isShowAddToCart=!1}}}):t._e()],1),a("DetailBottomBar",{on:{"add-to-cart":function(e){t.isShowAddToCart=!0}}})],1)},n=[],i=(a("4160"),a("13d5"),a("4fad"),a("b64b"),a("159b"),a("2909")),r=(a("96cf"),a("1da1")),o=a("3835"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("NavBar",{scopedSlots:t._u([{key:"left",fn:function(){return[s("div",{staticClass:"back",on:{click:function(e){return t.$router.go(-1)}}},[s("img",{attrs:{src:a("7a74"),alt:""}})])]},proxy:!0},{key:"center",fn:function(){return[s("ul",{staticClass:"title-list"},t._l(t.titleArr,(function(e,a){return s("li",{key:e,class:{active:t.currentIndex===a},on:{click:function(e){return t.setCurrentIndex(a)}}},[t._v(" "+t._s(e)+" ")])})),0)]},proxy:!0}])})},l=[],u=a("a7ac"),f={name:"DetailNavBar",created:function(){},data:function(){return{titleArr:["商品","参数","评论","推荐"],currentIndex:0}},props:{},methods:{setCurrentIndex:function(t){this.currentIndex=t,this.$emit("nav-bar-click",t)}},components:{NavBar:u["a"]}},d=f,m=(a("45fb"),a("2877")),p=Object(m["a"])(d,c,l,!1,null,"4f9911e0",null),h=p.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Carousel",{staticClass:"detail-carousel"},t._l(t.topImageArr,(function(e){return a("CarouselItem",{key:e},[a("img",{staticClass:"slider-img",attrs:{src:e},on:{load:function(e){return t.$bus.$emit("img-load")}}})])})),1)},_=[],b=a("a017"),C={name:"DetailCarousel",created:function(){},data:function(){return{}},props:{topImageArr:{type:Array,required:!0}},methods:{},components:{Carousel:b["a"],CarouselItem:b["b"]}},g=C,k=(a("f2d6"),Object(m["a"])(g,v,_,!1,null,"123bd87a",null)),I=k.exports,D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return Object.keys(t.baseInfo).length?a("div",{staticClass:"base-info"},[a("h1",{staticClass:"tittle"},[t._v(t._s(t.baseInfo.title))]),a("div",{ref:"priceContainer",staticClass:"price-container"},[a("span",{staticClass:"price"},[t._v(t._s(t.priceData.price))]),a("span",{staticClass:"old-price"},[t._v(t._s(t.priceData.oldPrice))]),t.priceData.discountDesc?a("span",{staticClass:"discount-desc"},[t._v(t._s(t.priceData.discountDesc))]):t._e()]),t.baseInfo.promotions?a("div",{staticClass:"promotions"},t._l(t.baseInfo.promotions.list,(function(e){return a("span",{key:e},[t._v(" "+t._s(e)+" ")])})),0):t._e(),a("ul",{staticClass:"base-columns"},t._l(t.baseInfo.baseColumns,(function(e){return a("li",{key:e},[t._v(t._s(e))])})),0),a("ul",{staticClass:"services"},t._l(t.services,(function(e){return a("li",{key:e.name,staticClass:"item"},[a("img",{attrs:{src:e.icon,alt:""}}),a("span",[t._v(t._s(e.name))])])})),0)]):t._e()},y=[],$={name:"DetailBaseInfo",created:function(){},data:function(){return{}},props:{baseInfo:{type:Object,default:function(){}}},computed:{priceData:function(){if(this.baseInfo.priceData)return this.baseInfo.priceData},services:function(){if(this.baseInfo.priceData)return this.baseInfo.services.length=3,this.baseInfo.services}},methods:{priceSetFontColor:function(){if(this.$refs.priceContainer){var t=this.$refs.priceContainer,e=t.querySelector(".price");e&&(e.style.color=this.priceData.discountBgColor);var a=t.querySelector(".discount-desc");a&&(a.style.background=this.priceData.discountBgColor)}else setTimeout(this.priceSetFontColor,500)}},mounted:function(){this.priceSetFontColor()}},O=$,S=(a("013a"),Object(m["a"])(O,D,y,!1,null,"2a94ff2e",null)),x=S.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return Object.keys(t.shopData).length?a("div",{attrs:{id:"shop-info-page"}},[a("div",{staticClass:"info-container"},[a("div",{staticClass:"title"},[a("img",{attrs:{src:t.shopData.shopLogo,alt:""}}),a("span",[t._v(t._s(t.shopData.name))])]),a("div",{staticClass:"main"},[a("div",{staticClass:"left"},[a("div",{staticClass:"c-sells"},[a("p",[t._v(t._s(t.cSells))]),a("p",[t._v("总销量")])]),a("div",{staticClass:"c-goods"},[a("p",[t._v(t._s(t.shopData.cGoods))]),a("p",[t._v("全部宝贝")])])]),a("div",{staticClass:"socre"},[a("div",{staticClass:"name-container"},t._l(t.shopData.score,(function(e){var s=e.name;return a("p",{key:s},[t._v(" "+t._s(s)+" ")])})),0),a("div",{staticClass:"score-container"},t._l(t.shopData.score,(function(e){return a("p",{key:e.name+"score",class:{"light-font":e.isBetter}},[t._v(" "+t._s(e.score)+" ")])})),0),a("div",{staticClass:"is-better-container"},t._l(t.shopData.score,(function(e){return a("p",{key:e.name+"score",class:{"light-background":e.isBetter}},[e.isBetter?[t._v("高")]:[t._v("低")]],2)})),0)])])]),t._m(0)]):t._e()},B=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"go-shop"},[a("span",[t._v("进店逛逛")])])}],w=(a("b680"),{name:"ShopInfoPage",created:function(){},data:function(){return{}},props:{shopData:{default:Object}},computed:{cSells:function(){if(this.shopData)return(this.shopData.cSells/1e4).toFixed(1)+"万"}},methods:{}}),j=w,P=(a("05f4"),Object(m["a"])(j,R,B,!1,null,"89527864",null)),A=P.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-info"},[a("div",{staticClass:"title"},[a("div",{staticClass:"pointer top"}),a("div",{staticClass:"pointer bottom"}),t._v(" "+t._s(t.detailInfoData.desc)+" ")]),a("div",{staticClass:"detail-img-container"},t._l(t.detailImageArr,(function(e){return a("div",{key:e.key},[a("p",{staticClass:"list-key"},[t._v(t._s(e.key))]),t._l(e.list,(function(e){return a("div",{key:e,staticClass:"img-list"},[a("img",{attrs:{src:e},on:{load:function(e){return t.$bus.$emit("img-load")}}})])}))],2)})),0)])},T=[],N={name:"DetailInfo",created:function(){},data:function(){return{}},props:{detailInfoData:{default:function(){return{}}}},computed:{detailImageArr:function(){if(Object.keys(this.detailInfoData).length)return this.detailInfoData.detailImage}},methods:{}},G=N,L=(a("5c37"),Object(m["a"])(G,E,T,!1,null,"21af0771",null)),F=L.exports,J=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.itemParams.rule?a("div",{attrs:{id:"param-container"}},[a("table",{attrs:{id:"detail-rule-table"}},[a("tr",[a("th",[t._v(t._s(t.itemParams.rule.key))])]),t._l(t.ruleTabArr,(function(e){return a("tr",{key:e+t.getRandom()},t._l(e,(function(e){return a("td",{key:e+t.getRandom()},[t._v(t._s(e))])})),0)}))],2),a("p",{staticClass:"disclaimer"},[t._v(t._s(t.itemParams.rule.disclaimer))]),a("table",{attrs:{id:"detail-info-table"}},[a("tr",[a("th",[t._v(t._s(t.itemParams.info.key))])]),t._l(t.infoTabArr,(function(e){return a("tr",{key:e.key+t.getRandom()},[a("td",{staticClass:"key"},[t._v(t._s(e.key))]),a("td",{staticClass:"value"},[t._v(t._s(e.value))])])}))],2)]):t._e()},M=[],q=(a("99af"),{name:"DetailParams",created:function(){},data:function(){return{}},props:{itemParams:{default:function(){return{}}}},computed:{ruleTabArr:function(){if(this.itemParams.rule){var t=this.itemParams.rule.tables;return t.reduce((function(t,e){return t.concat(e)}),[])}},infoTabArr:function(){if(this.itemParams.rule)return this.itemParams.info.set}},methods:{getRandom:function(){return Math.random()}}}),W=q,z=(a("acaf"),Object(m["a"])(W,J,M,!1,null,"7f745c23",null)),H=z.exports,K=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.hasRate?a("div",{staticClass:"rate-container",on:{click:function(e){return t.goDefault()}}},[a("div",{staticClass:"title"},[a("p",[t._v(" 用户评价 : "),a("span",[t._v(t._s(t.detailRate.cRate))])]),a("p",[t._v("更多")])]),a("div",{staticClass:"main"},[t.userInfo?a("div",{staticClass:"user-info"},[t.userInfo.avatar?a("img",{attrs:{src:t.userInfo.avatar,alt:""}}):a("img"),a("span",{staticClass:"uname"},[t._v(t._s(t.userInfo.uname))])]):t._e(),t.rateContent.extraInfo?a("div",{staticClass:"extra-info"},t._l(t.rateContent.extraInfo,(function(e){return a("span",{key:e+11},[t._v(t._s('"'+e+'"'))])})),0):t._e(),a("div",{staticClass:"rate-content"},[a("p",{staticClass:"content"},[t._v(" "+t._s(t.rateContent.content)+" ")]),t.rateContent.images?a("div",{staticClass:"rate-img-container"},t._l(t.rateContent.images,(function(e,s){return a("img",{key:e,class:{click:t.isClickRateImg===s},attrs:{src:e},on:{click:function(e){return t.rateImgClick(s)}}})})),0):t._e(),a("p",{staticClass:"style"},[a("span",[t._v(t._s(t.rateCreated)+" ")]),a("span",[t._v(t._s(t.rateContent.style))])])])])]):a("div",{staticClass:"empty"},[a("p",[t._v("暂无评价")])])])},Q=[],U=a("783f"),V={name:"DetailRate",created:function(){},data:function(){return{isClickRateImg:null}},props:{detailRate:{type:Object,default:function(){return{}}}},computed:{hasRate:function(){return this.detailRate.list&&this.detailRate.list[0]},userInfo:function(){return this.detailRate.list&&this.detailRate.list[0]&&this.detailRate.list[0].user},rateCreated:function(){return this.detailRate.list&&Object(U["b"])(1e3*this.rateContent.created)},rateContent:function(){return this.detailRate.list&&this.detailRate.list[0]}},methods:{rateImgClick:function(t){this.isClickRateImg=t},goDefault:function(){"IMG"!==event.target.tagName&&(this.isClickRateImg=null)}}},X=V,Y=(a("e7b1"),Object(m["a"])(X,K,Q,!1,null,"dbbe3f70",null)),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"detail-bottom-bar"},[t._m(0),t._m(1),t._m(2),a("p",{staticClass:"add-shop-cart",on:{click:function(e){return t.$emit("add-to-cart")}}},[t._v("加入购物车")]),a("p",{staticClass:"buy"},[t._v("购买")])])},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"service"},[a("span",{staticClass:"icon service"}),a("p",[t._v("客服")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"shop"},[a("span",{staticClass:"icon shop"}),a("p",[t._v("店铺")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"collect"},[a("span",{staticClass:"icon collect"}),a("p",[t._v("收藏")])])}],at={name:"DetailBottomBar",created:function(){},data:function(){return{}},components:{},props:{},methods:{}},st=at,nt=(a("705d"),Object(m["a"])(st,tt,et,!1,null,"a200953c",null)),it=nt.exports,rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.goods?a("div",{staticClass:"click-buy",on:{click:t.hideClickBuy}},[a("div",{ref:"container",staticClass:"container"},[a("div",{staticClass:"title"},[a("div",{staticClass:"img"},[a("img",{attrs:{src:t.goods.image,alt:""}})]),a("div",{staticClass:"price-container"},[a("p",{staticClass:"price"},[a("small",[t._v("¥")]),t._v(" "+t._s(t.goods.price))]),a("p",{staticClass:"id"},[t._v("编号："+t._s(t.goods.id))])])]),a("div",{staticClass:"input-container"},[a("p",[t._v("数量")]),a("div",{staticClass:"input"},[a("button",{attrs:{desab:"",disabled:t.count<2},on:{click:function(e){t.count--}}},[t._v("-")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.count,expression:"count"}],attrs:{type:"number",name:"count",step:"1",autofocus:"",placeholder:"1",max:"999",min:"1"},domProps:{value:t.count},on:{input:function(e){e.target.composing||(t.count=e.target.value)}}}),a("button",{on:{click:function(e){t.count++}}},[t._v("+")])])]),a("div",{staticClass:"add-to-cart",on:{click:t.clickAddCart}},[t._v("加入购物车")])])]):t._e()},ot=[],ct=(a("d3b7"),{name:"DetailClickBuy",created:function(){},data:function(){return{count:1,showTip:null}},props:["goods"],methods:{hideClickBuy:function(){this.$refs.container&&this.$refs.container.contains(event.target)||this.$emit("hide-click-buy")},clickAddCart:function(){var t=this;this.goods.count=this.count;var e=JSON.stringify(this.goods);this.$store.dispatch("receiveGoods",JSON.parse(e)).then((function(e){return"add-goods"===e?t.$toast.show("商品添加成功"):t.$toast.show("添加了".concat(t.count,"件"))})).finally((function(e){return t.$emit("hide-click-buy")}))}}}),lt=ct,ut=(a("69e8"),Object(m["a"])(lt,rt,ot,!1,null,"0d3816c9",null)),ft=ut.exports,dt=a("9287"),mt=a("5d17"),pt=a("e486"),ht=a("dd76");a("b0c0");function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _t=a("1bab");function bt(t){return Object(_t["a"])({url:"/detail",params:{iid:t}}).then((function(t){if(t.status>199&&t.status<300)return t.data.result;console.log(9999),console.log("detail.js////erro")})).catch((function(t){throw console.log(6666),t}))}var Ct=function t(e){vt(this,t),this.title=e.itemInfo.title,this.priceData={},this.priceData.price=e.itemInfo.price,this.priceData.discountDesc=e.itemInfo.discountDesc,this.priceData.oldPrice=e.itemInfo.oldPrice,this.priceData.discountBgColor=e.itemInfo.discountBgColor,this.baseColumns=Object(i["a"])(e.columns),this.baseColumns.pop(),this.services=e.shopInfo.services,this.baseColumns.push(this.services[0].name),e.promotions&&(this.promotions=e.promotions)},gt=function t(e){vt(this,t);var a=e.shopInfo;this.name=a.name,this.cFans=a.cFans,this.cGoods=a.cGoods,this.cSells=a.cSells,this.score=a.score,this.shopLogo=a.shopLogo};function kt(){return Object(_t["a"])({url:"/recommend"}).then((function(t){if(t.status>199&&t.status<300)return t.data.data.list;console.log("detail.js////erro")})).catch((function(t){throw t}))}var It={name:"Detail",mixins:[pt["a"],ht["a"]],data:function(){return{scrollConfig:{mouseWheel:{speed:20,invert:!1,easeTime:300},bounce:{top:!1},click:!0,probeType:3},isShowAddToCart:null,recommendArr:[],iid:this.$route.params.iid,topImageArr:[],baseInfo:{},shopInfo:{},detailInfoData:{},itemParams:{},detailRate:{},relativeScrollOffset:{params:null,rate:null,recommend:null},getRelativeScrollOffset:null,navBarCurrentIndex:1,allDetailDate:null}},computed:{goods:function(){if(!this.allDetailDate)return null;var t={};return t.title=this.baseInfo.title,t.shopInfo=this.shopInfo,t.image=this.topImageArr[0],t.price=this.allDetailDate.itemInfo.highNowPrice,t.id=this.iid,t.checked=!0,t}},props:{},methods:{navClick:function(t){var e=this.$refs.scrollCPN,a=null;switch(t){case 0:a=this.$refs.topCarousel.$el;break;case 1:a=this.$refs.params.$el;break;case 2:a=this.$refs.rate.$el;break;case 3:a=this.$refs.recommend.$el;break}a&&e.scrollToElement(a,600)},checkScroll:function(t){var e=t.y;this.checkBackShow(e),this.$refs.detailNavBar.currentIndex=this.getCurrentSection(e)},getCurrentSection:function(t){t=Math.abs(t);var e=Object.entries(this.relativeScrollOffset).reduce((function(e,a){var s=Object(o["a"])(a,2),n=s[0],i=s[1];return t>=i&&i>e.value?{key:n,value:i}:e}),{key:"goods",value:0}),a=e.key;return["goods","params","rate","recommend"].reduce((function(t,e,s){return e===a?s:t}),0)},imgLoadGetOffset:function(){var t=this;this.getRelativeScrollOffset=function(){Object.keys(t.relativeScrollOffset).forEach((function(e){t.$refs[e]&&(t.relativeScrollOffset[e]=t.$refs[e].$el.offsetTop)}))},this.getRelativeScrollOffset=Object(U["a"])(this.getRelativeScrollOffset,500,2e3),this.$bus.$on("img-load",this.getRelativeScrollOffset)}},mounted:function(){this.imgLoadGetOffset()},beforeDestroy:function(){this.$bus.$off("img-load",this.getRelativeScrollOffset)},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bt(t.iid);case 2:return s=e.sent,t.allDetailDate=s,e.next=6,kt();case 6:t.recommendArr=e.sent,(a=t.topImageArr).push.apply(a,Object(i["a"])(s.itemInfo.topImages)),t.baseInfo=new Ct(s),t.shopInfo=new gt(s),t.detailInfoData=s.detailInfo,t.itemParams=s.itemParams,t.detailRate=s.rate;case 13:case"end":return e.stop()}}),e)})))()},components:{DetailNavBar:h,Scroll:mt["a"],DetailCarousel:I,DetailBaseInfo:x,DetailShopInfoPage:A,DetailInfo:F,DetailParam:H,DetailRate:Z,GoodsList:dt["a"],DetailBottomBar:it,DetailClickBuy:ft}},Dt=It,yt=(a("7c1b"),Object(m["a"])(Dt,s,n,!1,null,"d5ba01aa",null));e["default"]=yt.exports},"705d":function(t,e,a){"use strict";a("e93a")},"7a74":function(t,e,a){t.exports=a.p+"img/back.26df9036.svg"},"7c1b":function(t,e,a){"use strict";a("eaf7")},"99af":function(t,e,a){"use strict";var s=a("23e7"),n=a("d039"),i=a("e8b5"),r=a("861d"),o=a("7b0b"),c=a("50c4"),l=a("8418"),u=a("65f0"),f=a("1dde"),d=a("b622"),m=a("2d00"),p=d("isConcatSpreadable"),h=9007199254740991,v="Maximum allowed index exceeded",_=m>=51||!n((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=f("concat"),C=function(t){if(!r(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},g=!_||!b;s({target:"Array",proto:!0,forced:g},{concat:function(t){var e,a,s,n,i,r=o(this),f=u(r,0),d=0;for(e=-1,s=arguments.length;e<s;e++)if(i=-1===e?r:arguments[e],C(i)){if(n=c(i.length),d+n>h)throw TypeError(v);for(a=0;a<n;a++,d++)a in i&&l(f,d,i[a])}else{if(d>=h)throw TypeError(v);l(f,d++,i)}return f.length=d,f}})},a4c8:function(t,e,a){},acaf:function(t,e,a){"use strict";a("a4c8")},b64b:function(t,e,a){var s=a("23e7"),n=a("7b0b"),i=a("df75"),r=a("d039"),o=r((function(){i(1)}));s({target:"Object",stat:!0,forced:o},{keys:function(t){return i(n(t))}})},c9d1:function(t,e,a){},e0ff:function(t,e,a){},e7b1:function(t,e,a){"use strict";a("1c84")},e93a:function(t,e,a){},eaf7:function(t,e,a){},f2d6:function(t,e,a){"use strict";a("4a60")}}]);
//# sourceMappingURL=chunk-110b37e5.14d5458a.js.map